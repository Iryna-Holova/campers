"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[29],{1029:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(5861),i=t(1413),s=t(7757),a=t.n(s),c=t(2791),l=t(4420),o=t(4928),u=t(7299),p=t(2829),m=t(8769),h=t(6854),d=t(1064),f=t(9439),v=t(5705),x=t(7609),_=t(4862),j="Filter_wrapper__9Ksqy",b="Filter_title__pSkfx",g="Filter_location__3ujAf",N="Filter_field__IlYZE",w="Filter_select__QmVYV",F="Filter_selected__bpT2w",k="Filter_unapplied__PBLSL",Z="Filter_location_icon__0jWiP",y="Filter_location_clear__VhcbW",q="Filter_filters_wrapper__i2T28",V="Filter_subtitle__fcbnU",S="Filter_filters__n5Vfb",L="Filter_filter__vxThR",C="Filter_checkbox_group__DxgIe",E="Filter_checkbox_hidden__dK4as",R="Filter_label__vEd1E",G="Filter_inactive__wSV8X",K="Filter_active__IaDX0",U="Filter_buttons__8hS8y",$=t(3329),I={location:"",transmission:[],equipment:[],form:null},T=function(e){var n=e.onSearch,t=e.onReset,i=(0,l.v9)(p.Fu),s=(0,l.v9)(p.N$),c=(0,l.v9)(p.SB),o=(0,l.v9)(p.xU),u=s.location,m=s.transmission,d=s.equipment,T=s.form;return(0,$.jsxs)("div",{className:j,children:[(0,$.jsx)("h2",{className:"visually-hidden",children:"Filter Vehicles"}),(0,$.jsx)(v.J9,{initialValues:{location:u||"",transmission:m?[m]:[],equipment:d,form:T},onSubmit:function(e){if(e.location||e.transmission.length||e.equipment.length||e.form){if(e.location===(null!==u&&void 0!==u?u:"")&&e.transmission[0]===m&&e.equipment.length===d.length&&e.equipment.every((function(e){return d.includes(e)}))&&e.form===T)return;n({location:e.location||null,transmission:e.transmission[0]||null,equipment:e.equipment,form:e.form})}else{if(!i)return;t()}},onReset:(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),children:function(e){var n=e.values,t=e.setFieldValue,r=e.resetForm;return(0,$.jsxs)(v.l0,{children:[(0,$.jsxs)("div",{className:g,children:[(0,$.jsx)("h3",{className:b,children:"Location"}),(0,$.jsxs)("div",{className:N,children:[(0,$.jsxs)(v.gN,{name:"location",as:"select",className:"".concat(w," ").concat(n.location?F:""," ").concat(n.location!==(null!==u&&void 0!==u?u:"")?k:""),children:[(0,$.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"City"}),h.Lm.map((function(e,n){return(0,$.jsx)("option",{value:e,children:e.split(", ").reverse().join(", ")},n)}))]}),(0,$.jsx)("svg",{width:20,height:20,className:Z,children:(0,$.jsx)("use",{href:x.Z+"#icon-location"})}),(0,$.jsx)("button",{type:"button",onClick:function(){return t("location","")},className:y,children:(0,$.jsx)("svg",{width:20,height:20,children:(0,$.jsx)("use",{href:x.Z+"#icon-close"})})})]})]}),(0,$.jsxs)("div",{className:q,children:[(0,$.jsx)("h3",{className:b,children:"Filters"}),(0,$.jsxs)("div",{className:S,children:[(0,$.jsxs)("div",{className:L,children:[(0,$.jsx)("div",{id:"equipment-group",className:V,children:"Vehicle equipment"}),(0,$.jsxs)("div",{role:"group","aria-labelledby":"equipment-group",className:C,children:[(0,$.jsxs)("label",{className:"".concat(R," ").concat(c?"automatic"===m?K:G:k),children:[(0,$.jsx)(v.gN,{type:"checkbox",name:"transmission",value:"automatic",className:E}),(0,$.jsx)("svg",{width:32,height:32,children:(0,$.jsx)("use",{href:"".concat(x.Z,"#icon-transmission")})}),"Automatic"]}),Object.entries(h.sw).map((function(e,n){var t=(0,f.Z)(e,2),r=t[0],i=t[1];return(0,$.jsxs)("label",{className:"".concat(R," ").concat(c?d.includes(r)?K:G:k),children:[(0,$.jsx)(v.gN,{type:"checkbox",name:"equipment",value:r,className:E}),(0,$.jsx)("svg",{width:32,height:32,children:(0,$.jsx)("use",{href:x.Z+h.UZ[i]})}),i]},n)}))]})]}),(0,$.jsxs)("div",{className:L,children:[(0,$.jsx)("div",{id:"radio-group",className:V,children:"Vehicle type"}),(0,$.jsx)("div",{role:"group","aria-labelledby":"radio-group",className:C,children:Object.entries(h.n5).map((function(e,n){var t=(0,f.Z)(e,2),r=t[0],i=t[1];return(0,$.jsxs)("label",{className:"".concat(R," ").concat(T?T===r?K:G:k),children:[(0,$.jsx)(v.gN,{type:"radio",name:"form",value:r,className:E}),(0,$.jsx)("svg",{width:40,height:28,children:(0,$.jsx)("use",{href:"".concat(x.Z,"#icon-").concat(r)})}),i]},n)}))})]})]})]}),(0,$.jsxs)("div",{className:U,children:[(0,$.jsx)(_.Z,{type:"submit",disabled:o,children:"Search"}),(0,$.jsx)(_.Z,{type:"reset",onClick:function(){return r({values:I})},disabled:o,size:"small",color:"secondary",children:"Reset"})]})]})}})]})},D=t(9176),z=function(){var e=(0,l.I0)(),n=(0,l.v9)(p.du),t=(0,l.v9)(p.Zp),s=(0,l.v9)(p.Vi),f=(0,l.v9)(p.xU),v=(0,l.v9)(p.Gj),x=(0,l.v9)(p.Fu),_=(0,l.v9)(p.N$),j=(0,l.v9)(p.zh);(0,c.useEffect)((function(){(0,m.k)()}),[]),(0,c.useEffect)((function(){v||e(x?(0,o.$)((0,i.Z)({page:1,limit:h.s0},_)):(0,o.G)({page:1,limit:h.Km}))}),[e,_,x,v]);var b=function(){var n=(0,r.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.$)((0,i.Z)({page:1,limit:h.s0},t))).unwrap();case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:return n.prev=7,e((0,u.Tv)(t)),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[0,5,7,10]])})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,r.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.G)({page:1,limit:h.Km})).unwrap();case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:return n.prev=7,e((0,u.Dg)()),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[0,5,7,10]])})));return function(){return n.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"container page-container",children:[(0,$.jsx)(T,{onSearch:b,onReset:g}),(0,$.jsx)(d.Z,{campers:n,empty:null!==j,isLoading:f,isLoadMore:s,onLoadMore:function(){return e((0,o.G)({page:t+1,limit:h.Km}))}}),(0,$.jsx)(D.Z,{})]})}},4928:function(e,n,t){t.d(n,{G:function(){return u},$:function(){return p}});var r=t(5861),i=t(7757),s=t.n(i),a=t(565),c=t(1413),l=t(5294).Z.create({baseURL:"https://66184bd69a41b1b3dfbcb9ce.mockapi.io/api",params:{}});l.interceptors.request.use((function(e){return e.params=(0,c.Z)({},e.params),e}));var o=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get("/adverts",{params:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=(0,a.hg)("campers/getCampers",function(){var e=(0,r.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p=(0,a.hg)("campers/getFiltered",function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.limit,i=n.location,a=n.transmission,c=n.form,l=n.equipment,u={page:t,limit:r,location:i,form:c,transmission:a},l.forEach((function(e){return u[e]=!0})),e.next=5,o(u);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=29.f550989c.chunk.js.map