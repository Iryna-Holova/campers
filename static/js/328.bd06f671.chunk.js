"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[328],{9876:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(5861),i=t(1413),s=t(7757),a=t.n(s),c=t(2791),l=t(4420),o=t(4029),u=t(5294).Z.create({baseURL:"https://66184bd69a41b1b3dfbcb9ce.mockapi.io/api",params:{}});u.interceptors.request.use((function(e){return e.params=(0,i.Z)({},e.params),e}));var m=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/adverts",{params:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=(0,o.hg)("campers/getCampers",function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),d=(0,o.hg)("campers/getFiltered",function(){var e=(0,r.Z)(a().mark((function e(n){var t,r,i,s,c,l,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.limit,i=n.location,s=n.transmission,c=n.form,l=n.equipment,o={page:t,limit:r,location:i,form:c,transmission:s},l.forEach((function(e){return o[e]=!0})),e.next=5,m(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),h=t(7299),f=t(2829),v=t(6854),_=t(3870),x=t(9439),j=t(5705),g=t(7609),b=t(4862),N="Filter_wrapper__9Ksqy",w="Filter_title__pSkfx",F="Filter_location__3ujAf",Z="Filter_field__IlYZE",k="Filter_select__QmVYV",y="Filter_selected__bpT2w",q="Filter_unapplied__PBLSL",V="Filter_location_icon__0jWiP",S="Filter_location_clear__VhcbW",L="Filter_filters_wrapper__i2T28",C="Filter_subtitle__fcbnU",R="Filter_filters__n5Vfb",E="Filter_filter__vxThR",K="Filter_checkbox_group__DxgIe",U="Filter_checkbox_hidden__dK4as",I="Filter_label__vEd1E",T="Filter_inactive__wSV8X",D="Filter_active__IaDX0",A="Filter_buttons__8hS8y",B=t(3329),M={location:"",transmission:[],equipment:[],form:null},O=function(e){var n=e.onSearch,t=e.onReset,i=(0,l.v9)(f.Fu),s=(0,l.v9)(f.N$),c=(0,l.v9)(f.SB),o=(0,l.v9)(f.xU),u=s.location,m=s.transmission,p=s.equipment,d=s.form;return(0,B.jsxs)("div",{className:N,children:[(0,B.jsx)("h2",{className:"visually-hidden",children:"Filter Vehicles"}),(0,B.jsx)(j.J9,{initialValues:{location:u||"",transmission:m?[m]:[],equipment:p,form:d},onSubmit:function(e){if(e.location||e.transmission.length||e.equipment.length||e.form){if(e.location===(null!==u&&void 0!==u?u:"")&&e.transmission[0]===m&&e.equipment.length===p.length&&e.equipment.every((function(e){return p.includes(e)}))&&e.form===d)return;n({location:e.location||null,transmission:e.transmission[0]||null,equipment:e.equipment,form:e.form})}else{if(!i)return;t()}},onReset:(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),children:function(e){var n=e.values,t=e.setFieldValue,r=e.resetForm;return(0,B.jsxs)(j.l0,{children:[(0,B.jsxs)("div",{className:F,children:[(0,B.jsx)("h3",{className:w,children:"Location"}),(0,B.jsxs)("div",{className:Z,children:[(0,B.jsxs)(j.gN,{name:"location",as:"select",className:"".concat(k," ").concat(n.location?y:""," ").concat(n.location!==(null!==u&&void 0!==u?u:"")?q:""),children:[(0,B.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"City"}),v.Lm.map((function(e,n){return(0,B.jsx)("option",{value:e,children:e.split(", ").reverse().join(", ")},n)}))]}),(0,B.jsx)("svg",{width:20,height:20,className:V,children:(0,B.jsx)("use",{href:g.Z+"#icon-location"})}),(0,B.jsx)("button",{type:"button",onClick:function(){return t("location","")},className:S,children:(0,B.jsx)("svg",{width:20,height:20,children:(0,B.jsx)("use",{href:g.Z+"#icon-close"})})})]})]}),(0,B.jsxs)("div",{className:L,children:[(0,B.jsx)("h3",{className:w,children:"Filters"}),(0,B.jsxs)("div",{className:R,children:[(0,B.jsxs)("div",{className:E,children:[(0,B.jsx)("div",{id:"equipment-group",className:C,children:"Vehicle equipment"}),(0,B.jsxs)("div",{role:"group","aria-labelledby":"equipment-group",className:K,children:[(0,B.jsxs)("label",{className:"".concat(I," ").concat(c?"automatic"===m?D:T:q),children:[(0,B.jsx)(j.gN,{type:"checkbox",name:"transmission",value:"automatic",className:U}),(0,B.jsx)("svg",{width:32,height:32,children:(0,B.jsx)("use",{href:"".concat(g.Z,"#icon-transmission")})}),"Automatic"]}),Object.entries(v.sw).map((function(e,n){var t=(0,x.Z)(e,2),r=t[0],i=t[1];return(0,B.jsxs)("label",{className:"".concat(I," ").concat(c?p.includes(r)?D:T:q),children:[(0,B.jsx)(j.gN,{type:"checkbox",name:"equipment",value:r,className:U}),(0,B.jsx)("svg",{width:32,height:32,children:(0,B.jsx)("use",{href:g.Z+v.UZ[i]})}),i]},n)}))]})]}),(0,B.jsxs)("div",{className:E,children:[(0,B.jsx)("div",{id:"radio-group",className:C,children:"Vehicle type"}),(0,B.jsx)("div",{role:"group","aria-labelledby":"radio-group",className:K,children:Object.entries(v.n5).map((function(e,n){var t=(0,x.Z)(e,2),r=t[0],i=t[1];return(0,B.jsxs)("label",{className:"".concat(I," ").concat(d?d===r?D:T:q),children:[(0,B.jsx)(j.gN,{type:"radio",name:"form",value:r,className:U}),(0,B.jsx)("svg",{width:40,height:28,children:(0,B.jsx)("use",{href:"".concat(g.Z,"#icon-").concat(r)})}),i]},n)}))})]})]})]}),(0,B.jsxs)("div",{className:A,children:[(0,B.jsx)(b.Z,{type:"submit",disabled:o,children:"Search"}),(0,B.jsx)(b.Z,{type:"reset",onClick:function(){return r({values:M})},disabled:o,size:"small",color:"secondary",children:"Reset"})]})]})}})]})},P=t(4955),W=function(){var e=(0,l.I0)(),n=(0,l.v9)(f.du),t=(0,l.v9)(f.Zp),s=(0,l.v9)(f.Vi),o=(0,l.v9)(f.xU),u=(0,l.v9)(f.Gj),m=(0,l.v9)(f.Fu),x=(0,l.v9)(f.N$);(0,c.useEffect)((function(){u||e(m?d((0,i.Z)({page:1,limit:v.s0},x)):p({page:1,limit:v.Km}))}),[e,x,m,u]);var j=function(){var n=(0,r.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(d((0,i.Z)({page:1,limit:v.s0},t))).unwrap();case 2:e((0,h.Tv)(t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,r.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(p({page:1,limit:v.Km})).unwrap();case 2:e((0,h.Dg)());case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,B.jsxs)("div",{className:"container page-container",children:[(0,B.jsx)(O,{onSearch:j,onReset:g}),(0,B.jsx)(_.Z,{campers:n,isLoading:o,isLoadMore:s,onLoadMore:function(){return e(p({page:t+1,limit:v.Km}))}}),(0,B.jsx)(P.Z,{})]})}}}]);
//# sourceMappingURL=328.bd06f671.chunk.js.map